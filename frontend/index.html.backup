<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNS Manager - LinuxHardened</title>
    <meta name="description" content="Professional DNS management dashboard for BIND named server">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Login Page -->
    <div id="login-page" class="page active">
        <div class="login-container">
            <div class="login-card">
                <div class="login-header">
                    <div class="logo-container">
                        <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M12 2L2 7l10 5 10-5-10-5z" />
                            <path d="M2 17l10 5 10-5" />
                            <path d="M2 12l10 5 10-5" />
                        </svg>
                    </div>
                    <h1>DNS Manager</h1>
                    <p class="subtitle">LinuxHardened DNS Control Panel</p>
                </div>

                <form id="login-form" class="login-form">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required autocomplete="username"
                            placeholder="Enter your username">
                    </div>

                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required autocomplete="current-password"
                            placeholder="Enter your password">
                    </div>

                    <button type="submit" class="btn btn-primary btn-block">
                        <span class="btn-text">Sign In</span>
                        <span class="btn-loader"></span>
                    </button>
                </form>

                <div id="login-error" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboard-page" class="page">
        <nav class="navbar">
            <div class="navbar-brand">
                <svg class="logo-icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" />
                    <path d="M2 17l10 5 10-5" />
                    <path d="M2 12l10 5 10-5" />
                </svg>
                <span class="brand-text">DNS Manager</span>
            </div>

            <div class="navbar-user">
                <div class="user-badge">
                    <span id="user-name">Admin</span>
                    <span id="user-role" class="user-role-badge">admin</span>
                </div>
                <h3 class="sidebar-title">Administration</h3>
                <button id="restart-service-btn" class="sidebar-btn sidebar-btn-danger">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M23 4v6h-6" />
                        <path d="M1 20v-6h6" />
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" />
                    </svg>
                    <span>Restart Named</span>
                </button>
            </div>
            </aside>

            <div class="content-area">
                <!-- DNS Zones View -->
                <div id="zones-view" class="view active">
                    <div class="view-header">
                        <h2>DNS Zone Management</h2>
                        <div class="zone-selector-container">
                            <label for="zone-selector">Select Zone:</label>
                            <select id="zone-selector" class="select-input">
                                <option value="">Loading zones...</option>
                            </select>
                        </div>
                    </div>

                    <div id="zone-content" class="zone-content">
                        <div class="empty-state">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="12" y1="16" x2="12" y2="12" />
                                <line x1="12" y1="8" x2="12.01" y2="8" />
                            </svg>
                            <p>Select a zone to manage DNS records</p>
                        </div>
                    </div>

                    <!-- DNS Records Table (will be shown when zone is selected) -->
                    <div id="records-section" class="records-section" style="display: none;">
                        <div class="section-header">
                            <div id="soa-info" class="soa-info"></div>

                            <div class="records-table-container">
                                <table id="records-table" class="records-table">
                                    <thead>
                                        <tr>
                                            <th>Type</th>
                                            <th>Name</th>
                                            <th>Value</th>
                                            <th class="comment-column">Comment</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="records-tbody">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Event Logs View -->
                    <div id="logs-view" class="view">
                        <div class="view-header">
                            <h2>Event Logs</h2>
                            <div class="log-filters">
                                <select id="action-filter" class="select-input">
                                    <option value="">All Actions</option>
                                    <option value="login">Login</option>
                                    <option value="add_record">Add Record</option>
                                    <option value="update_record">Update Record</option>
                                    <option value="delete_record">Delete Record</option>
                                    <option value="reload_zone">Reload Zone</option>
                                    <option value="restart_service">Restart Service</option>
                                </select>
                                <button id="refresh-logs-btn" class="btn btn-secondary">Refresh</button>
                            </div>
                        </div>

                        <div class="logs-table-container">
                            <table class="logs-table">
                                <thead>
                                    <tr>
                                        <th>Timestamp</th>
                                        <th>User</th>
                                        <th>Action</th>
                                        <th>Status</th>
                                        <th>Details</th>
                                    </tr>
                                </thead>
                                <tbody id="logs-tbody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
    </div>

    <!-- Record Modal -->
    <div id="record-modal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Add DNS Record</h3>
                <button id="close-modal-btn" class="btn-close">&times;</button>
            </div>

            <form id="record-form" class="record-form">
                <div class="form-group">
                    <label for="record-type">Record Type</label>
                    <select id="record-type" name="type" class="select-input" required>
                        <option value="A">A - IPv4 Address</option>
                        <option value="AAAA">AAAA - IPv6 Address</option>
                        <option value="MX">MX - Mail Exchange</option>
                        <option value="CNAME">CNAME - Canonical Name</option>
                        <option value="TXT">TXT - Text Record</option>
                        <option value="SRV">SRV - Service Record</option>
                        <option value="PTR">PTR - Pointer Record</option>
                        <option value="NS">NS - Name Server</option>
                    </select>
                </div>

                <div id="dynamic-fields"></div>

                <div class="modal-actions">
                    <button type="button" id="cancel-record-btn" class="btn btn-ghost">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <span id="submit-btn-text">Add Record</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <script src="js/app.js" type="module"></script>
</body>

</html>